@using EMS.DataAccess.Data
@using EMS.Framework.Permissions
@using EMS.Framework.Utils
@model dynamic

@{
    //ViewBag.Title = "Year Term Mgt.";
    ViewBag.Title = "Semester Mgt.";

    // Angular Properties
    var id = Request.QueryString["id"];//ViewContext.RouteData.Values["id"];
    var SemesterId = (string)id == null ? "0" : (string)id;

    //WebApi link for single row 
    var getSemesterByIdUrl = Url.HttpRouteUrl("DefaultApi", new { controller = "SemesterApi", action = "GetSemesterById", area = "Academic" });
    var getSemesterDataExtraUrl = Url.HttpRouteUrl("DefaultApi", new { controller = "SemesterApi", action = "GetSemesterDataExtra", area = "Academic" });
    var saveSemesterUrl = Url.HttpRouteUrl("DefaultApi", new { controller = "SemesterApi", action = "SaveSemester", area = "Academic" });
    var deleteSemesterByIdUrl = Url.HttpRouteUrl("DefaultApi", new { controller = "SemesterApi", action = "GetDeleteSemesterById", area = "Academic" });

    //WebApi link for List
    var getPagedSemesterUrl = Url.HttpRouteUrl("DefaultApi", new { controller = "SemesterApi", action = "GetPagedSemester", area = "Academic" });
    var getAllSemesterUrl = Url.HttpRouteUrl("DefaultApi", new { controller = "SemesterApi", action = "GetAllSemester", area = "Academic" });
    var saveSemesterListUrl = Url.HttpRouteUrl("DefaultApi", new { controller = "SemesterApi", action = "SaveSemesterList", area = "Academic" });
    var getSemesterListDataExtraUrl = Url.HttpRouteUrl("DefaultApi", new { controller = "SemesterApi", action = "GetSemesterListDataExtra", area = "Academic" });

    var editSemesterByIdPageUrl = Url.Action("SemesterAddEdit", "Semester", new { area = "Academic" });
    var listSemesterPageUrl = Url.Action("SemesterList", "Semester", new { area = "Academic" });

    var editAdmExamByPageUrl = Url.Action("AdmissionExamAddEdit", "AdmissionExam", new { area = "Admission" });
    var editFinalTermExamByPageUrl = Url.Action("ExamAddEdit", "Exam", new { area = "ExamSection" });

    //Angular Function Name
    var getNewSemester = "getNewSemester";
    string getSemesterById = "getSemesterById";
    var saveSemester = "saveSemester";
    var deleteSemesterById = "deleteSemesterById";
    var deleteSemesterByObj = "deleteSemesterByObj";
    string loadSemesterExtraData = "loadSemesterExtraData";
    //for list
    var searchSemesterList = "searchSemesterList";
    var getPagedSemesterList = "getPagedSemesterList";
    var getAllSemesterList = "getAllSemesterList";
    var saveSemesterList = "saveSemesterList";
    var getSemesterListExtraData = "getSemesterListExtraData";

    var addTermNameInSemester = "addTermNameInSemester";
    var addYearInSemester = "addYearInSemester";
    var addDurationInSemester = "addDurationInSemester";
    var updateSemesterDuration = "updateSemesterDuration";
    var updateSemesterName = "updateSemesterName";
    var updateAdmissionCircularNameAndFinalTermExam = "updateAdmissionCircularNameAndFinalTermExam";


    var refreshPage = "loadPage()";

}

@section ScriptSection
{
    <script src="~/Areas/Academic/Views/SemesterManager/Index.js?v=2"></script>
}

<style>
    .bgred {
        background-color: #f3c0b4
    }

    .bggreen {
        background-color: #d4e3de
    }
</style>

<div ng-controller="SemesterManagerCtrl"
     ng-init="Init(
     '@getSemesterByIdUrl'
     ,'@getPagedSemesterUrl'
     ,'@getSemesterDataExtraUrl'
     ,'@saveSemesterUrl'
     ,'@deleteSemesterByIdUrl'
     );">

<div ng-Hide="!HasError ||ErrorMsg==''" class="alert alert-danger fade in radius-bordered alert-shadowed">
    <button ng-click="HasError=false" class="close" data-dismiss1="alert">×</button>
    <i class="fa-fw fa fa-warning"></i>
    <strong>Attention Please!</strong> {{ErrorMsg}}
</div>

<div id="progress" ng-show="IsLoading" style="display: block; position: fixed; top: 0; background: rgba(255, 255, 255, 0.75); right: 0; width: 100%; height: 100%; z-index: 500; text-align: center; padding: 20% 10%; color: #3bad29;">
    <i class="fa fa-refresh fa-spin fa-5x fa-fw margin-bottom" style="font-size: 100px;"></i>
</div>
<div class="tabbable">
<ul class="nav nav-tabs" id="myTab">
    <li class="active">
        <a data-toggle="tab" href="#Semester" aria-expanded="false">
            Semester
        </a>
    </li>
    @*<li class="tab-blue">
                <a data-toggle="tab" href="#SemesterGroup" aria-expanded="true">
                    Semester Group
                </a>
            </li>*@
</ul>
<div class="tab-content no-padding">
<div id="Semester" class="tab-pane active">
<div class="widget-header">
    <span class="widget-caption">
        <span class="input-icon">
            <input type="text" ng-model="SearchBySemesterName" ng-enter="search()" class="form-control input-xs" placeholder="Enter Semester Name">
            <i class="fa fa-search blue"></i>
        </span>
    </span>
    <span class="widget-caption">
        <span class="input-icon" style="margin-left: 3px">
            <select ng-model="SemesterDurationEnumId" ng-change="search()" ng-options="option.Id as option.Name for option in SemesterDurationList" class="form-control input-xs">
                <option value="">---Any Duration----</option>
            </select>
        </span>
    </span>
    <div class="widget-buttons buttons-bordered">
        <button ng-click="getNewSemester()" class="btn btn-xs btn-success"><i class="fa fa-plus"></i> Add New</button>
    </div>
    <div class="widget-buttons buttons-bordered">
        <button ng-click="refreshSemester()" class="btn btn-xs btn-info"><i class="fa fa-refresh"></i> Refresh</button>
    </div>
</div>
<div class="row">
<div class="col-sm-6">
    <div class="table-footer no-print">
        @OptionControl()
    </div>
    <table class="table table-striped table-bordered table-hover">
        <thead class="bordered-blue">
        <tr>
            <th class="text-center">SN</th>
            <th class="text-center">ID</th>
            <th class="text-center">Year</th>
            <th class="text-center">Order No.</th>
            <th class="text-center">Name</th>
            <th class="text-center">Online Reg</th>
            <th class="text-center">Bulk Reg</th>
            <th class="text-center">Month Duration</th>
           
            <th class="text-center">Status</th>
            @if (PermissionUtil.HasPermission(PermissionCollection.AcademicArea.SemesterManager.Semester.CanDelete))
            {
                <th class="text-center no-print">Action</th>
            }
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="row in SemesterList" ng-click="editSemester($index)" ng-class="{ 'active': $index == selectedSemesterIndex }">
            <td class="text-center">{{$index+1}}</td>
            <td class="text-center">{{row.@Aca_Semester.Property_Id}}</td>
            <td class="text-center">{{row.@Aca_Semester.Property_Year}}</td>
            <td class="text-center">{{row.@Aca_Semester.Property_SemesterNo}}</td>
            <td>{{row.@Aca_Semester.Property_Name}}</td>
            <td class="text-center">
                <label ng-show="{{row.@Aca_Semester.Property_IsOpenOnlineRegistration}}" style="color: green">Yes</label>
                <label ng-hide="{{row.@Aca_Semester.Property_IsOpenOnlineRegistration}}" style="color: red">No</label>
            </td>
            <td class="text-center">
                <label ng-show="{{row.@Aca_Semester.Property_IsOpenBulkRegistration}}" style="color: green">Yes</label>
                <label ng-hide="{{row.@Aca_Semester.Property_IsOpenBulkRegistration}}" style="color: red">No</label>
            </td>
            <td class="text-center">{{row.@Aca_Semester.Property_SemesterDuration}}</td>
            <td class="text-center">{{row.@Aca_Semester.Property_Status}}</td>
            @if (PermissionUtil.HasPermission(PermissionCollection.AcademicArea.SemesterManager.Semester.CanDelete))
            {
                <td class="text-center">
                    <button ng-click="@(deleteSemesterById)(row)" class="btn btn-xs btn-danger"><i class="fa fa-trash"></i></button>
                </td>
            }
        </tr>
        </tbody>
    </table>
    <div class="table-footer no-print">
        @OptionControl()
    </div>
</div>
<div class="col-sm-6">
<div class="tabbable">
<ul class="nav nav-tabs" id="myTab">
    <li class="active">
        <a data-toggle="tab" href="#SemesterDetails">Semester Details</a>
    </li>
    <li class="tab-red">
        <a data-toggle="tab" href="#additionalSettings">Additional Settings</a>
    </li>
</ul>
<div class="tab-content">
<div id="SemesterDetails" class="tab-pane in active">
    <div class="row">
        @*<div class="col-sm-8 form-group">
            <label>Semester ID (Auto Generated) </label>
            <input ng-disabled="true" type="text" ng-model="Semester.@Aca_Semester.Property_Id" class="form-control" placeholder="Enter Semester ID" />
        </div>
        <div class="col-sm-4 form-group">
            <label>Semester No. </label>
            <input type="number" ng-model="Semester.@Aca_Semester.Property_SemesterNo" class="form-control" placeholder="Enter Semester No" />
        </div>*@


        <div class="col-sm-4">
            <div class="form-group">
                <label>Term <span class="red glyphicon glyphicon-asterisk"></span></label>
                <select ng-change="@(updateSemesterDuration)()" 
                        ng-model="Semester.@Aca_Semester.Property_TermId" 
                        ng-options="option.Id as option.Name for option in StudyTermList" class="form-control" required></select>
            </div>
        </div>
        <div class="col-sm-4 form-group">
            <label>Year <span class="red glyphicon glyphicon-asterisk"></span></label>
            <input ng-blur="@(updateSemesterName)()"
                type="number" 
                ng-model="Semester.@Aca_Semester.Property_Year" class="form-control" placeholder="Enter Year" />
        </div>
        <div class="col-sm-4 form-group">
            <label>Academic Session <span class="red glyphicon glyphicon-asterisk"></span></label>
            <input type="text" ng-model="Semester.@Aca_Semester.Property_AcademicSession" class="form-control" placeholder="Enter School Year" maxlength="50" required="" />
        </div>

        <div class="col-sm-12 form-group">
            <label>Semester/Year Name <span class="red glyphicon glyphicon-asterisk"></span></label>
            <input type="text" 
                   ng-model="Semester.@Aca_Semester.Property_Name" class="form-control" placeholder="Enter Name" maxlength="128" required="" />
        </div>
        
        <div class="col-sm-4 form-group">
            <label>Starting Month <span class="red glyphicon glyphicon-asterisk"></span></label>
            <select ng-model="Semester.@Aca_Semester.Property_StartingMonthEnumId" ng-options="option.Id as option.Name for option in MonthEnumList" class="form-control" required>
                <option value="">---Select One----</option>
            </select>
        </div>
        <div class="col-sm-4 form-group">
            <label>Start Date </label>
            <input type="datetime" ng-model="Semester.@Aca_Semester.Property_StartDate" class="form-control date-picker" />
        </div>
        <div class="col-sm-4 form-group">
            <label>End Date </label>
            <input type="datetime" ng-model="Semester.@Aca_Semester.Property_EndDate" class="form-control date-picker" />
        </div>

        <div class="col-sm-4">
            <div class="form-group">
                <label>Semester Duration <span class="red glyphicon glyphicon-asterisk"></span></label>
                <select ng-disabled="true" ng-model="Semester.@Aca_Semester.Property_SemesterDurationEnumId" ng-options="option.Id as option.Name for option in SemesterDurationList" class="form-control" required>
                    <option value="">---Select One----</option>
                </select>
            </div>
        </div>

        <div class="col-sm-4 form-group">
            <label class="control-label"> Status </label>
            <select ng-model="Semester.@Aca_Semester.Property_StatusEnumId" ng-options="option.Id as option.Name for option in StatusEnumList " ng-init="" class="form-control"></select>
        </div>
        <div class="col-sm-4 form-group">
            <label>Is Enable <span class="red glyphicon glyphicon-asterisk"></span></label><br />
            <input type="radio" ng-model="Semester.@Aca_Semester.Property_IsEnable" class="form-control radio-inline" ng-value="true" /> Yes
            <input type="radio" ng-model="Semester.@Aca_Semester.Property_IsEnable" class="form-control radio-inline" ng-value="false" /> No
        </div>

        <div class="col-md-12">
            <div class="form-title" ng-class="{bgred: Semester.AdmExamId<=0,bggreen: Semester.AdmExamId>0}">
                Admission Circular
                <span style="font-size: 20px;margin-bottom: 5px" ng-show="Semester.AdmExamId>0">
                    <a target="_blank" href="@(editAdmExamByPageUrl)/?id={{Semester.AdmExamId}}"> <i class="fa fa-arrow-circle-right"></i> {{Semester.AdmExamName}}</a>
                </span>

                <span ng-hide="Semester.AdmExamId>0" class="form-group">
                    <label>
                        <input type="checkbox" ng-model="Semester.IsCreateAdmissionExam"
                               class="form-control checkbox-inline" /> Create Admission Circular
                    </label>
                </span>

            </div>

            <div ng-hide="Semester.AdmExamId>0">
                <div ng-show="Semester.IsCreateAdmissionExam">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label> Circular Name <span class="red glyphicon glyphicon-asterisk"></span></label>
                            <input type="text" placeholder="Enter Admission Exam Name" ng-model="Semester.AdmExamName" class="form-control" />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label> Student Id Prefix <span class="red glyphicon glyphicon-asterisk"></span> </label>
                            <input type="text" placeholder="Enter Student Id Prefix" ng-model="Semester.StudentIdPrefix" class="form-control" />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label> UGC Unique Id Prefix <span class="red glyphicon glyphicon-asterisk"></span> </label>
                            <input type="text" placeholder="Enter UGC Unique Id Prefix" ng-model="Semester.StudentUgcIdPrefix" class="form-control" />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label> Increment Batch By <span class="red glyphicon glyphicon-asterisk"></span> </label>
                            <input type="number" placeholder="Enter batch Increment" ng-model="Semester.IncrementBatchCount" class="form-control" />
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="col-md-12">
            <div class="form-title" ng-class="{bgred: Semester.FinalTermExamId<=0,bggreen: Semester.FinalTermExamId>0}">
                Academic Final Term Exam
                <span style="font-size: 20px;margin-bottom: 5px" ng-show="Semester.FinalTermExamId>0">
                    <a target="_blank" href="@(editFinalTermExamByPageUrl)/?id={{Semester.FinalTermExamId}}"> <i class="fa fa-arrow-circle-right"></i> {{Semester.FinalTermExamName}}</a>
                </span>

                <span ng-hide="Semester.FinalTermExamId>0" class="form-group">
                    <label>
                        <input type="checkbox" ng-model="Semester.IsCreateFinalTermExam"
                               class="form-control checkbox-inline" /> Create Final Term Exam
                    </label>
                </span>
            </div>

            <div ng-hide="Semester.FinalTermExamId>0">
                <div ng-show="Semester.IsCreateFinalTermExam">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label> Exam Name <span class="red glyphicon glyphicon-asterisk"></span></label>
                            <input type="text" placeholder="Enter Exam Name" ng-model="Semester.FinalTermExamName" class="form-control" />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label> Exam Short Name <span class="red glyphicon glyphicon-asterisk"></span> </label>
                            <input type="text" placeholder="Enter Short Name" ng-model="Semester.FinalTermExamShortName" class="form-control" />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label> Official Exam Name <span class="red glyphicon glyphicon-asterisk"></span> </label>
                            <input type="text" placeholder="Enter Official Exam Name" ng-model="Semester.OfficialExamName" class="form-control" />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label> Academic Session <span class="red glyphicon glyphicon-asterisk"></span> </label>
                            <input ng-disabled="true" type="text" placeholder="Enter Academic Session" ng-model="Semester.AcademicSession" class="form-control" />
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="col-md-12 table-form">
            <table class="form" width="100%" border="0" cellspacing="2" cellpadding="3">
                <tbody>

                    <tr>
                        <td class="fieldlabel">Semester No </td>
                        <td class="fieldarea">
                            <input type="number" ng-model="Semester.@Aca_Semester.Property_SemesterNo" class="form-control" placeholder="Enter Semester No" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Semester No." data-toggle="tooltip"></i></span></td>
                    </tr>
                    <!--dropdown option for EnumList-->
                    <tr>
                        <td class="fieldlabel">Program Type </td>
                        <td class="fieldarea">
                            <select ng-model="Semester.@Aca_Semester.Property_ProgramTypeEnumId" ng-options="option.Id as option.Name for option in ProgramTypeEnumList" title="Select Program Type" ng-init="" class="form-control">
                                <option value="" label="" class="">---Select One---</option>
                            </select>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Select Program Type." data-toggle="tooltip"></i></span></td>
                    </tr>

                    <tr>
                        <td class="fieldlabel"> Is Open Online Registration </td>
                        <td class="fieldarea">
                            <label class="checkbox-inline">
                                <input type="checkbox" ng-model="Semester.@Aca_Semester.Property_IsOpenOnlineRegistration" />
                            </label>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check Is Open Online Registration if required." data-toggle="tooltip"></i></span></td>
                    </tr>
                    @*<tr>
                        <td class="fieldlabel">Set as Registration Semester </td>
                        <td class="fieldarea">
                            <label class="checkbox-inline">
                                <input type="checkbox" ng-model="Semester.@Aca_Semester.Property_IsRegistrationSemester" />
                            </label>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check for set this Semester as Registration Semester." data-toggle="tooltip"></i></span></td>
                    </tr>*@

                    <tr>
                        <td class="fieldlabel">Enabled Registration Type </td>
                        <td class="fieldarea">
                            <select ng-model="Semester.@Aca_Semester.Property_EnabledRegistrationTypeEnumId" ng-options="option.Id as option.Name for option in EnabledRegistrationTypeEnumList" title="Select Enabled Registration Type" ng-init="" class="form-control">
                                <option value="" label="" class="">---Select One---</option>
                            </select>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Select Enabled Registration Type." data-toggle="tooltip"></i></span></td>
                    </tr>
                    <tr ng-hide="Semester.@Aca_Semester.Property_EnabledRegistrationTypeEnumId==@((byte)Aca_Semester.EnabledRegistrationTypeEnum.None)">
                        <td class="fieldlabel">Registration Start Date </td>
                        <td class="fieldarea">
                            <input type="datetime" ng-model="Semester.@Aca_Semester.Property_RegistrationStartDate" class="form-control datetimepicker" placeholder="Enter Registration Start Date" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Registration Start Date." data-toggle="tooltip"></i></span></td>
                    </tr>
                    <tr ng-hide="Semester.@Aca_Semester.Property_EnabledRegistrationTypeEnumId==@((byte)Aca_Semester.EnabledRegistrationTypeEnum.None)">
                        <td class="fieldlabel">Registration End Date </td>
                        <td class="fieldarea">
                            <input type="datetime" ng-model="Semester.@Aca_Semester.Property_RegistrationEndDate" class="form-control datetimepicker" placeholder="Enter Registration End Date" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Registration End Date." data-toggle="tooltip"></i></span></td>
                    </tr>

                    <tr>
                        <td class="fieldlabel"> Is Open Bulk Registration </td>
                        <td class="fieldarea">
                            <label class="checkbox-inline">
                                <input type="checkbox" ng-model="Semester.@Aca_Semester.Property_IsOpenBulkRegistration" />
                            </label>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check Is Open Bulk Registration if required." data-toggle="tooltip"></i></span></td>
                    </tr>

                    <tr>
                        <td class="fieldlabel"> Is Close Single Panel Registration </td>
                        <td class="fieldarea">
                            <label class="checkbox-inline">
                                @*<input type="checkbox" ng-model="Semester.@Aca_Semester.Property_IsOpenStudentWiseRegistration" />*@
                            </label>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check Is Open Student Wise Registration if required." data-toggle="tooltip"></i></span></td>
                    </tr>

                    <tr>
                        <td class="fieldlabel"> Can Cancel Completed Semester Course </td>
                        <td class="fieldarea">
                            <label class="checkbox-inline">
                                <input type="checkbox" ng-model="Semester.@Aca_Semester.Property_CanCancelCompletedSemesterCourse" />
                            </label>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check Can Cancel Completed Semester Course if required." data-toggle="tooltip"></i></span></td>
                    </tr>

                    <tr>
                        <td class="fieldlabel">Maximum U G Credit </td>
                        <td class="fieldarea">
                            <input type="number" ng-model="Semester.@Aca_Semester.Property_MaximumUGCredit" class="form-control" placeholder="Enter Maximum U G Credit" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Maximum U G Credit." data-toggle="tooltip"></i></span></td>
                    </tr>
                    <tr>
                        <td class="fieldlabel">Minimum U G Credit </td>
                        <td class="fieldarea">
                            <input type="number" ng-model="Semester.@Aca_Semester.Property_MinimumUGCredit" class="form-control" placeholder="Enter Minimum U G Credit" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Minimum U G Credit." data-toggle="tooltip"></i></span></td>
                    </tr>
                    <tr>
                        <td class="fieldlabel">Maximum P G Credit </td>
                        <td class="fieldarea">
                            <input type="number" ng-model="Semester.@Aca_Semester.Property_MaximumPGCredit" class="form-control" placeholder="Enter Maximum P G Credit" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Maximum P G Credit." data-toggle="tooltip"></i></span></td>
                    </tr>
                    <tr>
                        <td class="fieldlabel">Minimum PG Credit </td>
                        <td class="fieldarea">
                            <input type="number" ng-model="Semester.@Aca_Semester.Property_MinimumPGCredit" class="form-control" placeholder="Enter Minimum P G Credit" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Minimum P G Credit." data-toggle="tooltip"></i></span></td>
                    </tr>

                    <tr>
                        <td class="fieldlabel">Minimum Grade Point For Retake </td>
                        <td class="fieldarea">
                            <input type="number" ng-model="Semester.@Aca_Semester.Property_MinimumGradePointForRetake" class="form-control" placeholder="Enter Minimum Grade Point For Retake" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Minimum Grade Point For Retake." data-toggle="tooltip"></i></span></td>
                    </tr>
                    <tr>
                        <td class="fieldlabel">Exam Permit Publish Date </td>
                        <td class="fieldarea">
                            <input type="datetime" ng-model="Semester.@Aca_Semester.Property_ExamPermitPublishDate" class="form-control datetime-picker" placeholder="Enter Exam Permit Publish Date" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Exam Permit Publish Date." data-toggle="tooltip"></i></span></td>
                    </tr>
                    <tr>
                        <td class="fieldlabel">Current Drop Percentage </td>
                        <td class="fieldarea">
                            <input type="number" ng-model="Semester.@Aca_Semester.Property_CurrentDropPercentage" class="form-control" placeholder="Enter Current Drop Percentage" />
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Current Drop Percentage." data-toggle="tooltip"></i></span></td>
                    </tr>

                    <tr>
                        <td class="fieldlabel">Is Deleted </td>
                        <td class="fieldarea">
                            <label class="checkbox-inline">
                                <input type="checkbox" ng-model="Semester.@Aca_Semester.Property_IsDeleted" />
                            </label>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check Is Deleted if required." data-toggle="tooltip"></i></span></td>
                    </tr>

                    <tr>
                        <td class="fieldlabel pull-right"> Online Registration Message for Students </td>
                        <td class="fieldarea">
                            <label style="width: 100%" class="checkbox-inline">
                                <textarea style="width: 100%" rows="5" ng-model="Semester.@Aca_Semester.Property_RegistrationMessage"></textarea>
                            </label>
                        </td>
                        <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Registration Message." data-toggle="tooltip"></i></span></td>
                    </tr>

                </tbody>
            </table>
        </div><!--Col End-->
    </div>
<div class="footer text-center">
    <button ng-click="saveSemester()" class="btn btn-lg btn-success"><span class="fa fa-save"></span> Save</button>
</div>
</div>

<div id="additionalSettings" class="tab-pane">
    <div class="row">

        <div class="col-md-12 table-form">
            <table class="form" width="100%" border="0" cellspacing="2" cellpadding="3">
                <tbody>
                <tr>
                    <td class="fieldlabel"> Enable Late Reg. Fee </td>
                    <td class="fieldarea">
                        <label class="checkbox-inline">
                            <input type="checkbox" ng-model="Semester.@Aca_Semester.Property_IsEnableLateRegFee"/>
                        </label>
                    </td>
                    <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check Is Enable Late Reg Fee if required." data-toggle="tooltip"></i></span></td>
                </tr>

                <tr>
                    <td class="fieldlabel">Late Reg Fee Start Date </td>
                    <td class="fieldarea">
                        <input type="datetime" ng-model="Semester.@Aca_Semester.Property_LateRegFeeStartDate" class="form-control datetime-picker" placeholder="Enter Late Reg Fee Start Date"/>
                    </td>
                    <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Late Reg Fee Start Date." data-toggle="tooltip"></i></span></td>
                </tr>
                <tr>
                    <td class="fieldlabel">Late Reg Fee Amount </td>
                    <td class="fieldarea">
                        <input type="number" ng-model="Semester.@Aca_Semester.Property_LateRegFeeAmount" class="form-control" placeholder="Enter Late Reg Fee Amount"/>
                    </td>
                    <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Late Reg Fee Amount." data-toggle="tooltip"></i></span></td>
                </tr>
                <tr>
                    <td class="fieldlabel">New Student Id Prefix </td>
                    <td class="fieldarea">
                        <input type="number" ng-model="Semester.@Aca_Semester.Property_NewStudentIdPrefix" class="form-control" placeholder="Enter New Student Id Prefix"/>
                    </td>
                    <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter New Student Id Prefix." data-toggle="tooltip"></i></span></td>
                </tr>
                <tr>
                    <td class="fieldlabel">New Student Suffix </td>
                    <td class="fieldarea">
                        <input type="number" ng-model="Semester.@Aca_Semester.Property_NewStudentSuffix" class="form-control" placeholder="Enter New Student Suffix"/>
                    </td>
                    <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter New Student Suffix." data-toggle="tooltip"></i></span></td>
                </tr>
                <tr>
                    <td class="fieldlabel">Section Tolarange </td>
                    <td class="fieldarea">
                        <input type="number" ng-model="Semester.@Aca_Semester.Property_SectionTolarange" class="form-control" placeholder="Enter Section Tolarange"/>
                    </td>
                    <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Enter Section Tolarange." data-toggle="tooltip"></i></span></td>
                </tr>
                <tr>
                    <td class="fieldlabel">Is Tpe Enable </td>
                    <td class="fieldarea">
                        <label class="checkbox-inline">
                            <input type="checkbox" ng-model="Semester.@Aca_Semester.Property_IsTpeEnable"/>
                        </label>
                    </td>
                    <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check Is Tpe Enable if required." data-toggle="tooltip"></i></span></td>
                </tr>

                <tr>
                    <td class="fieldlabel">Is Force Tpe Submit </td>
                    <td class="fieldarea">
                        <label class="checkbox-inline">
                            <input type="checkbox" ng-model="Semester.@Aca_Semester.Property_IsForceTpeSubmit"/>
                        </label>
                    </td>
                    <td class="fieldarea-tooltip"><span><i class="fa fa-question-circle" data-title="Check Is Force Tpe Submit if required." data-toggle="tooltip"></i></span></td>
                </tr>
                </tbody>
            </table>
        </div><!--Col End-->
    </div>
    <div class="footer text-center">
        <button ng-click="saveSemester()" class="btn btn-lg btn-success"><span class="fa fa-save"></span> Save</button>
    </div>
</div>
</div>
</div>
</div>
</div>
</div>
@*<div id="SemesterGroup" class="tab-pane">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="widget-header header-large">
                            <span  class="widget-caption padding-top-5">
                                <button ng-click="addSemesterGroup()" class="btn btn-success"><i class="fa fa-plus"></i> Add New</button>
                                <button ng-click="refreshSemesterGroup()" class="btn btn-info"><i class="fa fa-refresh"></i> Refresh</button>
                            </span>
                        </div>
                        <table class="table table-striped table-bordered table-hover">
                            <thead class="bordered-blue">
                                <tr>
                                    <th class="text-center">Name</th>
                                    <th class="text-center" style="width: 70px;">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="row in SemesterGroupList">
                                    <td>{{row.Name}}</td>
                                    <td class="text-center"><button ng-click="editSemesterGroup(row)" class="btn btn-xs btn-primary"><i class="fa fa-edit"></i> Edit</button></td>
                                </tr>
                            </tbody>
                            <tfoot class="no-print">
                                <tr>
                                    <td colspan="2">
                                        @OptionControl2()
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    <div class="col-sm-8">
                        <div class="tabbable">
                            <ul class="nav nav-tabs" id="myTab">
                                <li class="active">
                                    <a data-toggle="tab" href="#SemesterGroupDetails">Semester Group Details</a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div id="SemesterGroupDetails" class="tab-pane in active">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label>Name <span  class="red glyphicon glyphicon-asterisk"></span></label>
                                                <input type="text" ng-model="Obj.Name" class="form-control" placeholder="Enter Name" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="footer text-center">
                                        <button ng-click="saveSemesterGroup()" class="btn btn-lg btn-success"><span  class="fa fa-save"></span> Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>*@
</div>
</div>
</div>
@helper  OptionControl()
{
    <div class="row no-print">
        <div class="col-sm-4">
            <div class="form-inline pull-left">
                <div class="form-group">
                    <label ng-hide="totalServerItems==0">(Showing {{totalServerItems*(PageNo-1)+1}}-{{totalServerItems*PageNo}} of {{totalItems}})</label>
                    <label ng-show="totalServerItems==0" class="text-danger">No Data Found!</label>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div class="form-inline pull-right">
                <div class="form-group">
                    <label>Page Size</label>
                    <input ng-model="PageSize" ng-enter="changePageSize()" class="form-control input-opt" autocomplete="on" placeholder="Page Size" type="number" min="1" style="width: 100px;">
                </div>
                <div class="form-group">
                    <label>Page No.</label>
                    <input ng-model="PageNo" ng-enter="changePageNo()" class="form-control input-opt" autocomplete="on" placeholder="Page No" type="number" min="1" style="width: 100px;">
                    <label>of {{totalItems/PageSize| number:0}}</label>
                </div>
            </div>
        </div>
    </div>
}
@helper  OptionControl2()
{
    <div class="row no-print">
        <div class="col-sm-12">
            <div class="form-inline text-center">
                <div class="form-group">
                    <label ng-hide="totalServerItems==0">(Showing {{totalServerItems*(PageNo-1)+1}}-{{totalServerItems*PageNo}} of {{totalItems}})</label>
                    <label ng-show="totalServerItems==0" class="text-danger">No Data Found!</label>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="form-inline pull-left">
                <div class="form-group">
                    <label>Page Size</label>
                    <input ng-model="PageSize" ng-enter="changePageSize()" class="form-control input-opt" autocomplete="on" placeholder="Page Size" type="number" min="1" style="width: 100px;">
                </div>
            </div>
            <div class="form-inline pull-right">
                <div class="form-group">
                    <label>Page No.</label>
                    <input ng-model="PageNo" ng-enter="changePageNo()" class="form-control input-opt" autocomplete="on" placeholder="Page No" type="number" min="1" style="width: 100px;">
                    <label>of {{totalItems/PageSize| number:0}}</label>
                </div>
            </div>
        </div>
    </div>
}