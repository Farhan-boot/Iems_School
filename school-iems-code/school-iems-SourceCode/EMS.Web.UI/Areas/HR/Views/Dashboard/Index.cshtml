@using EMS.CoreLibrary
@using EMS.DataAccess.Data
@using EMS.Framework.Settings
@using EMS.Framework.Utils
@model dynamic
@{
    ViewBag.Title = "Dashboard";
}

<div class="databox databox-xxlg databox-vertical databox-shadowed bg-white radius-bordered no-padding" style="height: auto;">
    <div class="databox-top bordered-bottom-2 bordered-blueberry" style="height: auto;">
        <div class="databox-row row-12">
            <div class="databox-cell cell-2 text-center">
                <div class="databox-number number-xlg sky no-margin">@HttpUtil.DbContext.User_Employee.Count()</div>
                <div class="databox-text storm-cloud no-margin">Total Employee</div>
            </div>
            <div class="databox-cell cell-2 text-center">
                <div class="databox-number number-xlg sky no-margin">@HttpUtil.DbContext.User_Employee.Count(x =>  x.JobClassEnumId == (byte)User_Employee.JobClassEnum.FifthGrade)</div>
                <div class="databox-text storm-cloud no-margin">1st Class</div>
            </div>
            <div class="databox-cell cell-2 text-center">
                <div class="databox-number number-xlg sky no-margin">@HttpUtil.DbContext.User_Employee.Count(x =>  x.JobClassEnumId == (byte)User_Employee.JobClassEnum.SecondGrade)</div>
                <div class="databox-text storm-cloud no-margin">2nd Class</div>
            </div>
            <div class="databox-cell cell-2 text-center">
                <div class="databox-number number-xlg sky no-margin">@HttpUtil.DbContext.User_Employee.Count(x => x.JobTypeEnumId == (byte)User_Employee.JobTypeEnum.FullTime)</div>
                <div class="databox-text storm-cloud no-margin">Full Time</div>
            </div>
            <div class="databox-cell cell-2 text-center">
                <div class="databox-number number-xlg sky no-margin">@HttpUtil.DbContext.User_Employee.Count(x => x.JobTypeEnumId == (byte)User_Employee.JobTypeEnum.PartTime)</div>
                <div class="databox-text storm-cloud no-margin">Part Time</div>
            </div>

            <div class="databox-cell cell-2 text-center">
                <div class="databox-header title-xxlg sky">
                    <a class="btn btn-sm btn-primary" href="@Url.Action("EmployeeList", "ManageEmployee", new {area = "HR"})">
                        <i class="fa fa-users"></i> Employee List
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="databox-bottom" style="height: auto;">
        <div class="databox-row">
            <div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number green">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.IsApproved)</span>
                <span  class="databox-text green no-margin">Approved</span>
            </div>
            <div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number red">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.IsApproved == false)</span>
                <span  class="databox-text red no-margin">Disapproved</span>
            </div>
            <div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number green">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId == 0)</span>
                <span  class="databox-text green no-margin">Unlocked</span>
            </div>
            <div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number red">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId!=0)</span>
                <span  class="databox-text red no-margin">Locked</span>
            </div>
            <div class="databox-cell cell-2 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number green">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.CampusId == 1)</span>
                <span  class="databox-text sonic-silver no-margin">In @SiteSettings.Instance.InstituteShortName Campus</span>
            </div>
            <div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number pink">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.CampusId == 2)</span>
                <span  class="databox-text sonic-silver no-margin">In Campus 2</span>
            </div>
            <div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number blue">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.CampusId == 3)</span>
                <span  class="databox-text sonic-silver no-margin">In Campus 3</span>
            </div>

            <div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number carbon">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.GenderEnumId == (byte) User_Account.GenderEnum.Male)</span>
                <span  class="databox-text sonic-silver no-margin">Male</span>
            </div>
            <div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number carbon">@HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.GenderEnumId == (byte) User_Account.GenderEnum.Female)</span>
                <span  class="databox-text sonic-silver no-margin">Female</span>
            </div>
            @*<div class="databox-cell cell-1 no-padding text-align-center bordered-right bordered-platinum">
                <span  class="databox-number green">@HttpUtil.DbContext.User_Employee.Count(x => x.IsWorking)</span>
                <span  class="databox-text green no-margin">Is Working</span>
            </div>*@
            @*<div class="databox-cell cell-1 no-padding text-align-center">
                <span  class="databox-number red">@HttpUtil.DbContext.User_Employee.Count(x => x.IsWorking == false)</span>
                <span  class="databox-text red no-margin">Not Working</span>
            </div>*@
        </div>
        @*<hr class="margin-5">
    <div class="databox-row">
        <div class="databox-cell cell-1 text-align-center bordered-right bordered-platinum">
            <span  class="databox-number orange">8406</span>
            <span  class="databox-text sonic-silver no-margin">UNIT A</span>
        </div>
        <div class="databox-cell cell-1 text-align-center bordered-right bordered-platinum">
            <span  class="databox-number orange">33</span>
            <span  class="databox-text sonic-silver no-margin">UNIT B</span>
        </div>
        <div class="databox-cell cell-1 text-align-center bordered-right bordered-platinum">
            <span  class="databox-number orange">843</span>
            <span  class="databox-text sonic-silver no-margin">UNIT A+B</span>
        </div>
        <div class="databox-cell cell-2 text-align-center bordered-right bordered-platinum">
            <span  class="databox-number lightcarbon">6740</span>
            <span  class="databox-text carbon no-margin">Exam Accommodation</span>
        </div>
        <div class="databox-cell cell-2 text-align-center bordered-right bordered-platinum">
            <span  class="databox-number red">550</span>
            <span  class="databox-text carbon no-margin">Total Vacant</span>
        </div>
        <div class="databox-cell cell-2 text-align-center bordered-right bordered-platinum">
            <span  class="databox-number lightcarbon">200</span>
            <span  class="databox-text carbon no-margin">Written Exam Mark</span>
        </div>
        <div class="databox-cell cell-1 text-align-center bordered-right bordered-platinum">
            <span  class="databox-number lightcarbon">80</span>
            <span  class="databox-text carbon no-margin">PassMark</span>
        </div>
        <div class="databox-cell cell-1 text-align-center bordered-right bordered-platinum">
            <span  class="databox-number lightcarbon">15</span>
            <span  class="databox-text carbon no-margin">HSC GPA %</span>
        </div>
        <div class="databox-cell cell-1 text-align-center">
            <span  class="databox-number lightcarbon">10</span>
            <span  class="databox-text carbon no-margin">SSC GPA %</span>
        </div>
    </div>

    <hr class="margin-5">
    <div class="databox-row no-padding">
        <div class="databox-cell cell-4 text-align-center no-padding padding-top-5">
            <span  class="databox-header no-margin">Application Submission<br><strong>21/09/2015 00:00:00</strong></span>
        </div>
        <div class="databox-cell cell-4 text-align-center no-padding padding-top-5">
            <span  class="databox-header no-margin">Application Deadline<br><strong>25/10/2015 00:00:00</strong></span>
        </div>
        <div class="databox-cell cell-4 text-align-center no-padding padding-top-5">
            <span  class="databox-header no-margin">Admit Card Publish<br><strong>07/11/2015 10:00:00</strong></span>
        </div>
        <div class="databox-cell cell-4 text-align-center no-padding padding-top-5 bordered-top-2 bordered-sky">
            <span  class="databox-header no-margin">Admission Test<br><strong>13/11/2015 09:00:00</strong></span>
        </div>
        <div class="databox-cell cell-4 text-align-center no-padding padding-top-5 bordered-top-2 bordered-yellow">
            <span  class="databox-header no-margin">Admission Test Result<br><strong>23/11/2015 10:00:00</strong></span>
        </div>
        <div class="databox-cell cell-4 text-align-center no-padding padding-top-5 bordered-top-2 bordered-pink">
            <span  class="databox-header no-margin">Admission Start<br><strong>06/12/2015 09:00:00</strong></span>
        </div>

    </div>*@
    </div>

</div>
<table class="table table-bordered table text-center">
    <tr>
        <td>&nbsp;</td>
        <td>Active</td>
        <td>Inactive</td>
    </tr>
    <tr>
        <td>1st Class</td>
        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId == (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.FifthGrade)
        </td>

        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId != (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.FifthGrade)
        </td>
    </tr>
    <tr>
        <td>2nd Class</td>
        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId == (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.SecondGrade)
        </td>

        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId != (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.SecondGrade)
        </td>
    </tr>
    <tr>
        <td>3rd Class</td>
        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId == (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.FirstGrade)
        </td>

        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId != (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.FirstGrade)
        </td>
    </tr>
    <tr>
        <td>4th Class</td>
        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId == (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.FourthGrade)
        </td>

        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId != (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.FourthGrade)
        </td>
    </tr>
    <tr>
        <td>5th Class</td>
        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId == (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.FifthGrade)
        </td>

        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId != (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.FifthGrade)
        </td>
    </tr>
    <tr>
        <td>6th Class</td>
        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId == (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.SixthGrade)
        </td>

        <td>
            @HttpUtil.DbContext.User_Employee.Count(x => x.User_Account.UserStatusEnumId != (byte)User_Account.UserStatusEnum.Active
                                                         && x.JobClassEnumId == (byte) User_Employee.JobClassEnum.SixthGrade)
        </td>
    </tr>
</table>
<div class="horizontal-space"></div>

<div class="widget">
    <div class="widget-header bg-lightred">
        <i class="widget-icon fa fa-info-circle"></i>
        <span  class="widget-caption">Important Links</span>
        <div class="widget-buttons">
            <a href="#" data-toggle="maximize">
                <i class="fa fa-expand"></i>
            </a>
            <a href="#" data-toggle="collapse">
                <i class="fa fa-minus"></i>
            </a>
        </div>
    </div>
    <div class="widget-body">
        <div class="row">
            <div class="col-lg-3 col-xs-6">
                <div class="small-box bg-green-o">
                    <div class="inner">
                        <h2>Employee <br />Contacts</h2>
                    </div>
                    <div class="icon">
                        <i class="fa fa-address-book-o"></i>
                    </div>
                    <a href="@Url.Action("Contacts", "Dashboard", new {area="Employee"})" class="small-box-footer">View <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>